#!/usr/bin/env python3
"""Initialize database with demo data."""
import sys
from pathlib import Path

# Add parent directory to path
sys.path.insert(0, str(Path(__file__).parent.parent))

from app.database import SessionLocal, init_db
from app.models.models import ItemType, Category
from app.schemas import ItemCreate, PageCreate, CategoryCreate
from app.crud import create_item, get_items, create_category, get_categories


# Demo categories
DEMO_CATEGORIES = {
    "incidents": [
        {"name": "–†–æ–∑–ª–∏–≤", "icon": "üç∂", "color": "#e74c3c"},
        {"name": "–¢–≤–∏—Å—Ç—ã", "icon": "üîß", "color": "#e67e22"},
        {"name": "–≠—Ç–∏–∫–µ—Ç–∏—Ä–æ–≤—â–∏–∫", "icon": "üè∑Ô∏è", "color": "#3498db"},
        {"name": "–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ", "icon": "‚öôÔ∏è", "color": "#27ae60"},
        {"name": "–£–ø–∞–∫–æ–≤–∫–∞", "icon": "üì¶", "color": "#9b59b6"},
    ],
    "instructions": [
        {"name": "–ó–∞–ø—É—Å–∫ –ª–∏–Ω–∏–π", "icon": "‚ñ∂Ô∏è", "color": "#2ecc71"},
        {"name": "–¢–µ—Ö–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ", "icon": "üîß", "color": "#f39c12"},
        {"name": "–°–∞–Ω–∏—Ç–∞—Ä–∏—è", "icon": "üßπ", "color": "#1abc9c"},
    ]
}

# Demo data - category_name refers to categories above
DEMO_INCIDENTS = [
    {
        "title": "–ü–æ—Ç–µ–∫–ª–∞ —Ä—É–±–∞—à–∫–∞",
        "category_name": "–†–æ–∑–ª–∏–≤",
        "pages": [
            {
                "title": "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã",
                "time": "5 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/e74c3c/white?text=–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
                "actions": [
                    "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏–Ω–∏—é —Ä–æ–∑–ª–∏–≤–∞",
                    "–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ —É—Ç–µ—á–∫–∏ –≤–∏–∑—É–∞–ª—å–Ω–æ",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–µ",
                    "–û—Ü–µ–Ω–∏—Ç—å –æ–±—ä—ë–º —É—Ç–µ—á–∫–∏"
                ]
            },
            {
                "title": "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —É—Ç–µ—á–∫–∏",
                "time": "15 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/e67e22/white?text=–†–µ–º–æ–Ω—Ç",
                "actions": [
                    "–ü–µ—Ä–µ–∫—Ä—ã—Ç—å –ø–æ–¥–∞—á—É –≤–æ–¥—ã",
                    "–°–ª–∏—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ –∏–∑ —Ä—É–±–∞—à–∫–∏",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É–ø–ª–æ—Ç–Ω–∏—Ç–µ–ª–∏",
                    "–ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ –ø—Ä–æ–∫–ª–∞–¥–∫–∏",
                    "–ó–∞–∫—Ä—É—Ç–∏—Ç—å –∫—Ä–µ–ø—ë–∂–Ω—ã–µ –±–æ–ª—Ç—ã"
                ]
            },
            {
                "title": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫",
                "time": "10 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/27ae60/white?text=–ó–∞–ø—É—Å–∫",
                "actions": [
                    "–û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–∞—á—É –≤–æ–¥—ã",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–µ—Ä–º–µ—Ç–∏—á–Ω–æ—Å—Ç—å –ø–æ–¥ –¥–∞–≤–ª–µ–Ω–∏–µ–º",
                    "–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ü–∏–∫–ª",
                    "–£–±–µ–¥–∏—Ç—å—Å—è –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —É—Ç–µ—á–µ–∫",
                    "–í–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ"
                ]
            }
        ]
    },
    {
        "title": "–ó–∞—Å—Ç—Ä—è–ª–∞ —ç—Ç–∏–∫–µ—Ç–∫–∞",
        "category_name": "–≠—Ç–∏–∫–µ—Ç–∏—Ä–æ–≤—â–∏–∫",
        "pages": [
            {
                "title": "–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –¥–æ—Å—Ç—É–ø",
                "time": "3 –º–∏–Ω—É—Ç—ã",
                "image": "https://placehold.co/600x400/e74c3c/white?text=–°–¢–û–ü",
                "actions": [
                    "–ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —ç—Ç–∏–∫–µ—Ç–∏—Ä–æ–≤—â–∏–∫–∞",
                    "–î–æ–∂–¥–∞—Ç—å—Å—è –ø–æ–ª–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏",
                    "–û—Ç–∫—Ä—ã—Ç—å –∑–∞—â–∏—Ç–Ω—ã–π –∫–æ–∂—É—Ö",
                    "–ù–∞–¥–µ—Ç—å –∑–∞—â–∏—Ç–Ω—ã–µ –ø–µ—Ä—á–∞—Ç–∫–∏"
                ]
            },
            {
                "title": "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–º—è—Ç–∏—è",
                "time": "7 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/9b59b6/white?text=–û—á–∏—Å—Ç–∫–∞",
                "actions": [
                    "–ê–∫–∫—É—Ä–∞—Ç–Ω–æ —É–¥–∞–ª–∏—Ç—å –∑–∞—Å—Ç—Ä—è–≤—à—É—é —ç—Ç–∏–∫–µ—Ç–∫—É",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–æ–ª–∏–∫–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤ –∫–ª–µ—è",
                    "–û—á–∏—Å—Ç–∏—Ç—å –Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∏–µ",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Ç—è–∂–µ–Ω–∏–µ –ª–µ–Ω—Ç—ã"
                ]
            },
            {
                "title": "–ó–∞–ø—É—Å–∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è",
                "time": "5 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/27ae60/white?text=–ó–∞–ø—É—Å–∫",
                "actions": [
                    "–ó–∞–∫—Ä—ã—Ç—å –∑–∞—â–∏—Ç–Ω—ã–π –∫–æ–∂—É—Ö",
                    "–í—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–±–Ω—É—é —ç—Ç–∏–∫–µ—Ç–∏—Ä–æ–≤–∫—É",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞–∫–ª–µ–π–∫–∏",
                    "–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ä–∞–±–æ—á–µ–º —Ä–µ–∂–∏–º–µ"
                ]
            }
        ]
    },
    {
        "title": "–°–±–æ–π –∫–æ–Ω–≤–µ–π–µ—Ä–∞",
        "category_name": "–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ",
        "pages": [
            {
                "title": "–ê–≤–∞—Ä–∏–π–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞",
                "time": "2 –º–∏–Ω—É—Ç—ã",
                "image": "https://placehold.co/600x400/c0392b/white?text=–ê–í–ê–†–ò–Ø",
                "actions": [
                    "–ù–∞–∂–∞—Ç—å –∞–≤–∞—Ä–∏–π–Ω—É—é –∫–Ω–æ–ø–∫—É –°–¢–û–ü",
                    "–£–±–µ–¥–∏—Ç—å—Å—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞",
                    "–û—Ç–∫–ª—é—á–∏—Ç—å –ø–∏—Ç–∞–Ω–∏–µ –∫–æ–Ω–≤–µ–π–µ—Ä–∞",
                    "–í–∫–ª—é—á–∏—Ç—å –∞–≤–∞—Ä–∏–π–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ"
                ]
            },
            {
                "title": "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏",
                "time": "15 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/3498db/white?text=–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
                "actions": [
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞—Ç—á–∏–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è",
                    "–û—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–≤–æ–¥–Ω–æ–π —Ä–µ–º–µ–Ω—å",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Ç—è–∂–µ–Ω–∏–µ —Ü–µ–ø–∏",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥—à–∏–ø–Ω–∏–∫–æ–≤",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è"
                ]
            },
            {
                "title": "–†–µ–º–æ–Ω—Ç –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ",
                "time": "20 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/e67e22/white?text=–†–µ–º–æ–Ω—Ç",
                "actions": [
                    "–ó–∞–º–µ–Ω–∏—Ç—å –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã",
                    "–°–º–∞–∑–∞—Ç—å –ø–æ–¥—à–∏–ø–Ω–∏–∫–∏",
                    "–û—Ç—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Ç—è–∂–µ–Ω–∏–µ",
                    "–û—á–∏—Å—Ç–∏—Ç—å –¥–∞—Ç—á–∏–∫–∏"
                ]
            },
            {
                "title": "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫",
                "time": "8 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/27ae60/white?text=–¢–µ—Å—Ç",
                "actions": [
                    "–í–∫–ª—é—á–∏—Ç—å –ø–∏—Ç–∞–Ω–∏–µ",
                    "–í—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –Ω–∞ –º–∞–ª–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –¥–∞—Ç—á–∏–∫–æ–≤",
                    "–ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ —Ä–∞–±–æ—á–µ–π —Å–∫–æ—Ä–æ—Å—Ç–∏",
                    "–ó–∞–ø–∏—Å–∞—Ç—å –≤ –∂—É—Ä–Ω–∞–ª –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤"
                ]
            }
        ]
    }
]

DEMO_INSTRUCTIONS = [
    {
        "title": "–ó–∞–ø—É—Å–∫ –ª–∏–Ω–∏–∏ —Ä–æ–∑–ª–∏–≤–∞",
        "category_name": "–ó–∞–ø—É—Å–∫ –ª–∏–Ω–∏–π",
        "pages": [
            {
                "title": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∑–∞–ø—É—Å–∫—É",
                "time": "3 –º–∏–Ω—É—Ç—ã",
                "image": "https://placehold.co/600x400/3498db/white?text=–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞",
                "actions": [
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ç–∞—Ä—ã –Ω–∞ —Å–∫–ª–∞–¥–µ",
                    "–£–±–µ–¥–∏—Ç—å—Å—è –≤ —á–∏—Å—Ç–æ—Ç–µ –ª–∏–Ω–∏–∏",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–¥—É–∫—Ç–∞ –≤ —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–µ",
                    "–í–∫–ª—é—á–∏—Ç—å –æ–±—â–µ–µ –ø–∏—Ç–∞–Ω–∏–µ –ª–∏–Ω–∏–∏"
                ]
            },
            {
                "title": "–ó–∞–ø—É—Å–∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è",
                "time": "5 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/2980b9/white?text=–ó–∞–ø—É—Å–∫",
                "actions": [
                    "–í–∫–ª—é—á–∏—Ç—å –ø–æ–¥–∞—á—É –≤–æ–¥—ã",
                    "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–≤–µ–π–µ—Ä –Ω–∞ –º–∞–ª–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏",
                    "–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–æ–∑–∞—Ç–æ—Ä—ã",
                    "–í–∫–ª—é—á–∏—Ç—å —ç—Ç–∏–∫–µ—Ç–∏—Ä–æ–≤—â–∏–∫"
                ]
            },
            {
                "title": "–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞",
                "time": "2 –º–∏–Ω—É—Ç—ã",
                "image": "https://placehold.co/600x400/27ae60/white?text=–ö–æ–Ω—Ç—Ä–æ–ª—å",
                "actions": [
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–≤—ã–µ 3 –æ–±—Ä–∞–∑—Ü–∞",
                    "–ò–∑–º–µ—Ä–∏—Ç—å –æ–±—ä—ë–º —Ä–æ–∑–ª–∏–≤–∞",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —ç—Ç–∏–∫–µ—Ç–∫–∏",
                    "–ù–∞—á–∞—Ç—å —Å–µ—Ä–∏–π–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ"
                ]
            }
        ]
    },
    {
        "title": "–ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –¢–û –∫–æ–Ω–≤–µ–π–µ—Ä–∞",
        "category_name": "–¢–µ—Ö–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ",
        "pages": [
            {
                "title": "–í–∏–∑—É–∞–ª—å–Ω—ã–π –æ—Å–º–æ—Ç—Ä",
                "time": "5 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/9b59b6/white?text=–û—Å–º–æ—Ç—Ä",
                "actions": [
                    "–û—Å–º–æ—Ç—Ä–µ—Ç—å –ª–µ–Ω—Ç—É –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–æ–ª–∏–∫–æ–≤",
                    "–û—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞—Ç—è–∂–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞—â–∏—Ç–Ω—ã–µ –∫–æ–∂—É—Ö–∏"
                ]
            },
            {
                "title": "–û—á–∏—Å—Ç–∫–∞ –∏ —Å–º–∞–∑–∫–∞",
                "time": "15 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/1abc9c/white?text=–°–º–∞–∑–∫–∞",
                "actions": [
                    "–û—á–∏—Å—Ç–∏—Ç—å –ª–µ–Ω—Ç—É –æ—Ç –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–π",
                    "–ü—Ä–æ—Ç–µ—Ä–µ—Ç—å –¥–∞—Ç—á–∏–∫–∏",
                    "–°–º–∞–∑–∞—Ç—å –ø–æ–¥—à–∏–ø–Ω–∏–∫–∏",
                    "–û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ç–æ—ç–ª–µ–º–µ–Ω—Ç—ã"
                ]
            },
            {
                "title": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è",
                "time": "10 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/34495e/white?text=–ñ—É—Ä–Ω–∞–ª",
                "actions": [
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Ç—è–∂–µ–Ω–∏–µ –ª–µ–Ω—Ç—ã",
                    "–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –¥–∞—Ç—á–∏–∫–æ–≤",
                    "–í—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–±–Ω—ã–π –∑–∞–ø—É—Å–∫",
                    "–ó–∞–ø–∏—Å–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –∂—É—Ä–Ω–∞–ª –¢–û"
                ]
            }
        ]
    },
    {
        "title": "–°–∞–Ω–∏—Ç–∞—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ª–∏–Ω–∏–∏",
        "category_name": "–°–∞–Ω–∏—Ç–∞—Ä–∏—è",
        "pages": [
            {
                "title": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ",
                "time": "5 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/16a085/white?text=–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞",
                "actions": [
                    "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ",
                    "–°–ª–∏—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ –ø—Ä–æ–¥—É–∫—Ü–∏–∏",
                    "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–µ–∑—Ä–∞—Å—Ç–≤–æ—Ä –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏",
                    "–ù–∞–¥–µ—Ç—å –∑–∞—â–∏—Ç–Ω—É—é –æ–¥–µ–∂–¥—É –∏ –ø–µ—Ä—á–∞—Ç–∫–∏"
                ]
            },
            {
                "title": "–ü—Ä–æ–º—ã–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã",
                "time": "20 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/3498db/white?text=–ü—Ä–æ–º—ã–≤–∫–∞",
                "actions": [
                    "–ü—Ä–æ–º—ã—Ç—å —Å–∏—Å—Ç–µ–º—É —á–∏—Å—Ç–æ–π –≤–æ–¥–æ–π (5 –º–∏–Ω)",
                    "–ó–∞–ª–∏—Ç—å –¥–µ–∑—Ä–∞—Å—Ç–≤–æ—Ä –≤ —Å–∏—Å—Ç–µ–º—É",
                    "–í–∫–ª—é—á–∏—Ç—å —Ü–∏—Ä–∫—É–ª—è—Ü–∏—é –Ω–∞ 15 –º–∏–Ω—É—Ç",
                    "–°–ª–∏—Ç—å –¥–µ–∑—Ä–∞—Å—Ç–≤–æ—Ä"
                ]
            },
            {
                "title": "–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–º—ã–≤–∫–∞",
                "time": "15 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/2ecc71/white?text=–§–∏–Ω–∞–ª",
                "actions": [
                    "–ü—Ä–æ–º—ã—Ç—å —á–∏—Å—Ç–æ–π –≤–æ–¥–æ–π (10 –º–∏–Ω)",
                    "–í–∑—è—Ç—å –ø—Ä–æ–±—É –≤–æ–¥—ã –Ω–∞ –∞–Ω–∞–ª–∏–∑",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å pH (–Ω–æ—Ä–º–∞ 6.5-7.5)",
                    "–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–º—ã–≤–∫—É"
                ]
            },
            {
                "title": "–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
                "time": "5 –º–∏–Ω—É—Ç",
                "image": "https://placehold.co/600x400/34495e/white?text=–î–æ–∫—É–º–µ–Ω—Ç—ã",
                "actions": [
                    "–ó–∞–ø–∏—Å–∞—Ç—å –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏",
                    "–£–∫–∞–∑–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π —Ä–∞—Å—Ç–≤–æ—Ä",
                    "–ó–∞–ø–∏—Å–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã pH-—Ç–µ—Å—Ç–∞",
                    "–ü–æ–¥–ø–∏—Å–∞—Ç—å –∂—É—Ä–Ω–∞–ª —Å–∞–Ω–æ–±—Ä–∞–±–æ—Ç–∫–∏"
                ]
            }
        ]
    }
]


def init_demo_data():
    """Initialize database with demo data."""
    print("Initializing database...")
    init_db()

    db = SessionLocal()
    try:
        # Check if data already exists
        existing = get_items(db, limit=1)
        if existing:
            print("Database already contains data. Skipping demo data insertion.")
            return

        # Create categories first
        print("Adding categories...")
        category_map = {}

        for cat_data in DEMO_CATEGORIES["incidents"]:
            cat = create_category(db, CategoryCreate(
                name=cat_data["name"],
                item_type=ItemType.INCIDENT,
                icon=cat_data["icon"],
                color=cat_data["color"]
            ))
            category_map[cat_data["name"]] = cat.id
            print(f"  + {cat_data['icon']} {cat_data['name']}")

        for cat_data in DEMO_CATEGORIES["instructions"]:
            cat = create_category(db, CategoryCreate(
                name=cat_data["name"],
                item_type=ItemType.INSTRUCTION,
                icon=cat_data["icon"],
                color=cat_data["color"]
            ))
            category_map[cat_data["name"]] = cat.id
            print(f"  + {cat_data['icon']} {cat_data['name']}")

        print("Adding demo incidents...")
        for incident_data in DEMO_INCIDENTS:
            category_id = category_map.get(incident_data.get("category_name"))
            item = ItemCreate(
                title=incident_data["title"],
                item_type=ItemType.INCIDENT,
                category_id=category_id,
                pages=[
                    PageCreate(
                        title=p["title"],
                        time=p["time"],
                        image=p["image"],
                        actions=p["actions"]
                    )
                    for p in incident_data["pages"]
                ]
            )
            create_item(db, item)
            print(f"  + {incident_data['title']}")

        print("Adding demo instructions...")
        for instruction_data in DEMO_INSTRUCTIONS:
            category_id = category_map.get(instruction_data.get("category_name"))
            item = ItemCreate(
                title=instruction_data["title"],
                item_type=ItemType.INSTRUCTION,
                category_id=category_id,
                pages=[
                    PageCreate(
                        title=p["title"],
                        time=p["time"],
                        image=p["image"],
                        actions=p["actions"]
                    )
                    for p in instruction_data["pages"]
                ]
            )
            create_item(db, item)
            print(f"  + {instruction_data['title']}")

        print("\nDemo data initialized successfully!")
        print(f"  - {len(DEMO_CATEGORIES['incidents']) + len(DEMO_CATEGORIES['instructions'])} categories")
        print(f"  - {len(DEMO_INCIDENTS)} incidents")
        print(f"  - {len(DEMO_INSTRUCTIONS)} instructions")

    finally:
        db.close()


if __name__ == "__main__":
    init_demo_data()
